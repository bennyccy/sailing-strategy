<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sailing Strategy Trainer</title>
<style>
  body {
    margin: 0;
    font-family: sans-serif;
    background: #aee0f5;
    overflow: hidden;
  }
  #course {
    position: relative;
    width: 100vw;
    height: 100vh;
    background: radial-gradient(circle at center, #b3e0ff 0%, #89c6e5 100%);
    touch-action: none;
  }
  .boat {
    width: 8vw;   /* size relative to screen width */
    max-width: 50px;
    aspect-ratio: 1 / 2;  /* keeps sailboat proportions */
    position: absolute;
    cursor: grab;
    touch-action: none;
    background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/6/6e/Simple_sailboat_icon.svg/512px-Simple_sailboat_icon.svg.png') no-repeat center/contain;
  }
  #wind-arrow {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 15vw;
    max-width: 80px;
    aspect-ratio: 1 / 1;
    background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/3/3b/Arrow_up.svg/512px-Arrow_up.svg.png') no-repeat center/contain;
    transform-origin: center;
    cursor: pointer;
    z-index: 100;
  }
</style>
</head>
<body>
<div id="course">
  <div class="boat" style="left: 10%; top: 30%;"></div>
  <div class="boat" style="left: 40%; top: 50%;"></div>
  <div id="wind-arrow" title="Tap to rotate wind"></div>
</div>

<script>
// Dragging boats (works with touch + mouse)
let draggedBoat = null;
let offsetX, offsetY;
document.querySelectorAll('.boat').forEach(boat => {
  boat.addEventListener('pointerdown', e => {
    draggedBoat = boat;
    offsetX = e.clientX - boat.offsetLeft;
    offsetY = e.clientY - boat.offsetTop;
    boat.setPointerCapture(e.pointerId);
  });

  boat.addEventListener('pointermove', e => {
    if (!draggedBoat) return;
    let x = e.clientX - offsetX;
    let y = e.clientY - offsetY;
    // keep boat inside screen
    x = Math.max(0, Math.min(window.innerWidth - boat.offsetWidth, x));
    y = Math.max(0, Math.min(window.innerHeight - boat.offsetHeight, y));
    draggedBoat.style.left = `${x}px`;
    draggedBoat.style.top = `${y}px`;
  });

  boat.addEventListener('pointerup', () => {
    draggedBoat = null;
  });
});

// Rotating wind arrow
let windAngle = 0;
const windArrow = document.getElementById('wind-arrow');
windArrow.addEventListener('click', () => {
  windAngle = (windAngle + 45) % 360;
  windArrow.style.transform = `rotate(${windAngle}deg)`;
});
</script>
</body>
</html>
